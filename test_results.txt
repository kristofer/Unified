======================================
Testing All .uni Files with WASM Backend
======================================

❌ ./lib/List.uni
line 7:12 extraneous input 'data' expecting ':'
line 8:12 extraneous input 'capacity' expecting ':'
line 9:12 extraneous input 'size' expecting ':'
line 12:7 mismatched input 'new' expecting Identifier
line 12:16 mismatched input 'Self' expecting {'(', '[', '&', 'fn', 'impl', Identifier}
line 21:38 mismatched input 'Self' expecting {'(', '[', '&', 'fn', 'impl', Identifier}
line 30:35 mismatched input '<' expecting ')'
line 30:37 mismatched input '>' expecting ':'
line 31:17 mismatched input '=' expecting ':'
line 32:17 mismatched input 'in' expecting ':'
line 32:29 mismatched input '{' expecting ':'
line 33:16 mismatched input '.' expecting ':'
line 33:21 missing ':' at '('
panic: interface conversion: parser.IBlockContext is nil, not *parser.BlockContext

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc00025beb8, 0xc000182580)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x7b3
unified-compiler/internal/ast.(*ASTBuilder).VisitStructMember(0xc00025beb8, 0xc000182500)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:265 +0x711
unified-compiler/internal/ast.(*ASTBuilder).VisitStructDecl(0xc00025beb8, 0xc000182b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:231 +0x338
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc00025beb8, 0xc000182a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:94 +0x219
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc00025beb8, 0xc000182980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./lib/Tree.uni
line 7:28 mismatched input '>>' expecting '>'
line 10:7 mismatched input 'new' expecting Identifier
line 10:16 mismatched input 'Self' expecting {'(', '[', '&', 'fn', 'impl', Identifier}
line 17:29 mismatched input 'Self' expecting {'(', '[', '&', 'fn', 'impl', Identifier}
line 20:23 no viable alternative at input '{root:Some(&'
line 20:22 extraneous input '(' expecting {'}', 'fn', 'pub', Identifier}
line 20:32 mismatched input ')' expecting ':'
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc000259eb8, 0xc000379680)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x405
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc000259eb8, 0xc000379600)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc000259eb8, 0xc000379580)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc000259eb8, 0xc000379080)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitStructMember(0xc000259eb8, 0xc000379000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:265 +0x711
unified-compiler/internal/ast.(*ASTBuilder).VisitStructDecl(0xc000259eb8, 0xc000180b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:231 +0x338
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc000259eb8, 0xc000180a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:94 +0x219
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc000259eb8, 0xc000180980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/add_test.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (39 bytes)
Runtime error: no main function found

❌ ./src/unified-compiler/basic_test.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (57 bytes)
Runtime error: no main function found

❌ ./src/unified-compiler/call_test.uni
AST built with 3 top-level items
Generated WASM module with 3 functions
Encoded WASM module (79 bytes)
Runtime error: failed to compile module: invalid function[2] export["main"]: type mismatch on call operation param type: type mismatch: expected i32, but was i64

❌ ./src/unified-compiler/comparison_test.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (90 bytes)
Runtime error: failed to compile module: invalid function[1] export["main"]: type mismatch on call operation param type: type mismatch: expected i32, but was i64

✅ ./src/unified-compiler/minimal_test.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (45 bytes)
Program completed successfully
Return value: 42

❌ ./src/unified-compiler/simple_arith.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (65 bytes)
Runtime error: failed to compile module: invalid function[1] export["main"]: type mismatch on call operation param type: type mismatch: expected i32, but was i64

❌ ./src/unified-compiler/simple_call_test.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (65 bytes)
Runtime error: failed to compile module: invalid function[1] export["main"]: type mismatch on call operation param type: type mismatch: expected i32, but was i64

✅ ./src/unified-compiler/simple_comparison_test.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (51 bytes)
Program completed successfully
Return value: 25

❌ ./src/unified-compiler/simple_comparison_test2.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (75 bytes)
Runtime error: failed to compile module: invalid function[1] export["main"]: type mismatch on call operation param type: type mismatch: expected i32, but was i64

✅ ./src/unified-compiler/simple_test.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (45 bytes)
Program completed successfully
Return value: 42

❌ ./src/unified-compiler/stdlib/BinaryTree.uni
line 5:12 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 6:13 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 7:14 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 12:27 mismatched input '>>' expecting '>'
line 13:8 mismatched input ':' expecting '>'
line 13:13 mismatched input ',' expecting ':'
line 14:13 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 15:17 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 21:7 mismatched input 'new' expecting Identifier
line 80:20 extraneous input 'mut' expecting {')', SELF, Identifier}
line 98:14 extraneous input 'mut' expecting {')', SELF, Identifier}
line 116:20 extraneous input 'mut' expecting {')', SELF, Identifier}
line 230:13 extraneous input 'mut' expecting {')', SELF, Identifier}
line 241:14 extraneous input 'mut' expecting {')', SELF, Identifier}
panic: interface conversion: parser.ITypeContext is nil, not *parser.TypeContext

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitStructMember(0xc00099deb8, 0xc0002d0480)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:253 +0x36b
unified-compiler/internal/ast.(*ASTBuilder).VisitStructDecl(0xc00099deb8, 0xc000181a00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:231 +0x338
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc00099deb8, 0xc000181980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:94 +0x219
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc00099deb8, 0xc000180980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/stdlib/HashMap.uni
line 5:10 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 6:12 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 11:36 mismatched input '>>' expecting '>'
line 12:8 mismatched input ':' expecting '>'
line 12:13 mismatched input ',' expecting ':'
line 18:7 mismatched input 'new' expecting Identifier
line 20:42 extraneous input ',' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 41:42 extraneous input ',' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 80:14 extraneous input 'mut' expecting {')', SELF, Identifier}
line 116:14 extraneous input 'mut' expecting {')', SELF, Identifier}
line 126:13 extraneous input 'mut' expecting {')', SELF, Identifier}
line 152:14 extraneous input 'mut' expecting {')', SELF, Identifier}
line 154:45 extraneous input ',' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
panic: interface conversion: parser.ITypeContext is nil, not *parser.TypeContext

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitStructMember(0xc00089beb8, 0xc0002f4680)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:253 +0x36b
unified-compiler/internal/ast.(*ASTBuilder).VisitStructDecl(0xc00089beb8, 0xc0001a7980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:231 +0x338
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc00089beb8, 0xc0001a7900)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:94 +0x219
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc00089beb8, 0xc0001a6980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/stdlib/List.uni
line 5:19 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 6:15 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 12:7 mismatched input 'new' expecting Identifier
line 40:12 extraneous input 'mut' expecting {')', SELF, Identifier}
line 49:11 extraneous input 'mut' expecting {')', SELF, Identifier}
line 66:11 extraneous input 'mut' expecting {')', SELF, Identifier}
line 74:13 extraneous input 'mut' expecting {')', SELF, Identifier}
line 79:12 extraneous input 'mut' expecting {')', SELF, Identifier}
AST built with 1 top-level items
Generated WASM module with 0 functions
Encoded WASM module (14 bytes)
Runtime error: no main function found

❌ ./src/unified-compiler/stdlib/Queue.uni
line 5:19 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 6:14 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 7:13 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 8:13 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 14:7 mismatched input 'new' expecting Identifier
line 46:15 extraneous input 'mut' expecting {')', SELF, Identifier}
line 56:15 extraneous input 'mut' expecting {')', SELF, Identifier}
line 75:13 extraneous input 'mut' expecting {')', SELF, Identifier}
line 82:12 extraneous input 'mut' expecting {')', SELF, Identifier}
AST built with 1 top-level items
Generated WASM module with 0 functions
Encoded WASM module (14 bytes)
Runtime error: no main function found

❌ ./src/unified-compiler/stdlib/Set.uni
line 5:19 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 6:25 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 7:13 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 13:7 mismatched input 'new' expecting Identifier
line 50:14 extraneous input 'mut' expecting {')', SELF, Identifier}
line 73:14 extraneous input 'mut' expecting {')', SELF, Identifier}
line 86:13 extraneous input 'mut' expecting {')', SELF, Identifier}
line 129:14 extraneous input 'mut' expecting {')', SELF, Identifier}
line 154:27 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 177:27 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 177:31 missing Identifier at '('
AST built with 1 top-level items
Generated WASM module with 0 functions
Encoded WASM module (14 bytes)
Runtime error: no main function found

❌ ./src/unified-compiler/stdlib/Stack.uni
line 5:19 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 6:12 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 12:7 mismatched input 'new' expecting Identifier
line 40:12 extraneous input 'mut' expecting {')', SELF, Identifier}
line 49:11 extraneous input 'mut' expecting {')', SELF, Identifier}
line 66:13 extraneous input 'mut' expecting {')', SELF, Identifier}
line 71:12 extraneous input 'mut' expecting {')', SELF, Identifier}
AST built with 1 top-level items
Generated WASM module with 0 functions
Encoded WASM module (14 bytes)
Runtime error: no main function found

✅ ./src/unified-compiler/test/bitwise.uni
AST built with 7 top-level items
Generated WASM module with 7 functions
Encoded WASM module (182 bytes)
Program completed successfully
Return value: 22

❌ ./src/unified-compiler/test/block_expr.uni
AST built with 3 top-level items
Error generating WASM: error adding function test_block_as_value: unsupported expression type: *ast.Block

✅ ./src/unified-compiler/test/compound_assign.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (78 bytes)
Program completed successfully
Return value: 25

✅ ./src/unified-compiler/test/compound_assign_no_semi.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (70 bytes)
Program completed successfully
Return value: 2

⏱️  ./src/unified-compiler/test/counter_mut.uni (TIMEOUT)
Test timed out after 5 seconds

✅ ./src/unified-compiler/test/enum_option.uni
AST built with 2 top-level items
Generated WASM module with 1 functions
Encoded WASM module (44 bytes)
Program completed successfully
Return value: 0

✅ ./src/unified-compiler/test/enum_result.uni
AST built with 2 top-level items
Generated WASM module with 1 functions
Encoded WASM module (44 bytes)
Program completed successfully
Return value: 0

✅ ./src/unified-compiler/test/enum_simple.uni
AST built with 2 top-level items
Generated WASM module with 1 functions
Encoded WASM module (44 bytes)
Program completed successfully
Return value: 0

❌ ./src/unified-compiler/test/fib.uni
line 30:32 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 30:36 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0004c3eb8, 0xc00011a200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0004c3eb8, 0xc00047e000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0004c3eb8, 0xc0000f5e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0004c3eb8, 0xc0000f5e00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0004c3eb8, 0xc0005b5b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0004c3eb8, 0xc0005b5b00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0004c3eb8, 0xc0000f4980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/fizz.uni
line 22:34 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 22:38 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0005afeb8, 0xc0002f5000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0005afeb8, 0xc000214180)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0005afeb8, 0xc000214080)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0005afeb8, 0xc0002edf00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0005afeb8, 0xc0002ed880)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0005afeb8, 0xc0002ed800)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0005afeb8, 0xc000214980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/generics/01_identity_function.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (88 bytes)
Runtime error: failed to compile module: invalid function[1] export["main"]: type mismatch on call operation param type: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/generics/02_box_struct.uni
AST built with 2 top-level items
Generated WASM module with 1 functions
Encoded WASM module (163 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

❌ ./src/unified-compiler/test/generics/03_option_enum.uni
line 17:30 extraneous input '::' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 18:30 extraneous input '::' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 3 top-level items
Error generating WASM: error adding function unwrap_or: unsupported statement type: *ast.SwitchStatement

❌ ./src/unified-compiler/test/generics/04_result_enum.uni
line 11:34 no viable alternative at input 'ifb==0{returnResult<Int,String>::'
panic: interface conversion: interface is nil, not ast.Statement

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitCaseClause(0xc0002efeb8, 0xc0002dda00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1321 +0x75d
unified-compiler/internal/ast.(*ASTBuilder).VisitSwitchStatement(0xc0002efeb8, 0xc0002dd680)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1301 +0x2a9
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0002efeb8, 0xc000196580)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1010 +0x771
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0002efeb8, 0xc0002dcd80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0002efeb8, 0xc0002dcb00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0002efeb8, 0xc0002dca80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0002efeb8, 0xc000196980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/generics/05_pair_function.uni
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitReturnStatement(0xc0003c9eb8, 0xc0000f7b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1049 +0x1e5
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0003c9eb8, 0xc0000f7a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:995 +0x41b
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0003c9eb8, 0xc0000f7980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0003c9eb8, 0xc0000f6b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0003c9eb8, 0xc0000f6a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0003c9eb8, 0xc0000f6980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/generics/06_swap_function.uni
line 5:15 extraneous input '*' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 6:9 extraneous input '*' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 14:9 no viable alternative at input 'swap(&'
AST built with 2 top-level items
Error generating WASM: error adding function swap: unsupported binary operator: Assign

❌ ./src/unified-compiler/test/generics/07_array_operations.uni
line 6:24 no viable alternative at input 'ifarr.len()>0{returnOption<T>::'
line 13:24 no viable alternative at input 'ifarr.len()>0{returnOption<T>::'
panic: interface conversion: interface is nil, not ast.Statement

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitCaseClause(0xc00030beb8, 0xc000591900)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1321 +0x75d
unified-compiler/internal/ast.(*ASTBuilder).VisitSwitchStatement(0xc00030beb8, 0xc000591680)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1301 +0x2a9
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc00030beb8, 0xc000590200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1010 +0x771
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc00030beb8, 0xc0003ccd80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc00030beb8, 0xc0003ccb00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc00030beb8, 0xc0003cca80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc00030beb8, 0xc0000f0980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/generics/08_container_methods.uni
line 9:7 mismatched input 'new' expecting Identifier
line 13:11 extraneous input '&' expecting {')', SELF, Identifier}
line 17:11 mismatched input '&' expecting {')', SELF, Identifier}
AST built with 2 top-level items
Error generating WASM: error adding function map: undefined variable: self

❌ ./src/unified-compiler/test/generics/09_comparison_function.uni
line 5:28 no viable alternative at input 'fncompare(self,other:Self'
AST built with 3 top-level items
Error generating WASM: error adding function max: complex function calls not yet supported

❌ ./src/unified-compiler/test/generics/10_linked_list.uni
line 5:22 mismatched input '>>' expecting '>'
line 29:24 extraneous input '::' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 30:41 no viable alternative at input '(1,Box<List<Int>>{value:List<Int>::'
AST built with 4 top-level items
Error generating WASM: error adding function list_length: unsupported statement type: *ast.SwitchStatement

❌ ./src/unified-compiler/test/generics/11_explicit_type_args.uni
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc00037deb8, 0xc000532480)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc00037deb8, 0xc00046c300)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc00037deb8, 0xc00046c280)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc00037deb8, 0xc00046c200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc00037deb8, 0xc000199f00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc00037deb8, 0xc000199e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc00037deb8, 0xc000198980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/generics/12_multiple_type_params.uni
AST built with 3 top-level items
Generated WASM module with 3 functions
Encoded WASM module (100 bytes)
Runtime error: failed to compile module: invalid function[2] export["main"]: type mismatch on call operation param type: type mismatch: expected i64, but was i32

✅ ./src/unified-compiler/test/generics/13_generic_with_control_flow.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (89 bytes)
Program completed successfully
Return value: 1

✅ ./src/unified-compiler/test/generics/14_multiple_same_type_calls.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (99 bytes)
Program completed successfully
Return value: 1

❌ ./src/unified-compiler/test/generics/15_different_type_calls.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (88 bytes)
Runtime error: failed to compile module: invalid function[1] export["main"]: type mismatch on call operation param type: type mismatch: expected i64, but was i32

✅ ./src/unified-compiler/test/generics/16_nested_calls.uni
AST built with 3 top-level items
Generated WASM module with 3 functions
Encoded WASM module (92 bytes)
Program completed successfully
Return value: 1

❌ ./src/unified-compiler/test/generics/17_local_variables.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (92 bytes)
Runtime error: failed to compile module: invalid function[1] export["main"]: type mismatch on call operation param type: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/generics/18_same_type_params.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (91 bytes)
Runtime error: failed to compile module: invalid function[1] export["main"]: type mismatch: expected i64, but was i32

✅ ./src/unified-compiler/test/generics/19_arithmetic_ops.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (75 bytes)
Program completed successfully
Return value: 1

✅ ./src/unified-compiler/test/generics/20_complex_inference.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (89 bytes)
Program completed successfully
Return value: 1

❌ ./src/unified-compiler/test/integration/array_assignment.uni
AST built with 1 top-level items
Error generating WASM: error adding function main: unsupported binary operator: Assign

❌ ./src/unified-compiler/test/integration/array_basics.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (141 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

❌ ./src/unified-compiler/test/integration/array_boundary.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (182 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

❌ ./src/unified-compiler/test/integration/array_double.uni
AST built with 1 top-level items
Error generating WASM: error adding function main: unsupported binary operator: Assign

❌ ./src/unified-compiler/test/integration/array_empty.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (71 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

❌ ./src/unified-compiler/test/integration/array_find_max.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (256 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

❌ ./src/unified-compiler/test/integration/array_length.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (120 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

❌ ./src/unified-compiler/test/integration/array_reverse.uni
AST built with 1 top-level items
Error generating WASM: error adding function main: unsupported binary operator: Assign

❌ ./src/unified-compiler/test/integration/array_search.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (193 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

❌ ./src/unified-compiler/test/integration/array_sum.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (181 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

❌ ./src/unified-compiler/test/integration/fizzbuzz_complete.uni
AST built with 2 top-level items
Error generating WASM: error adding function fizzbuzz: unsupported binary operator: RangeIncl

❌ ./src/unified-compiler/test/integration/for_sum.uni
AST built with 2 top-level items
Error generating WASM: error adding function sum_range: unsupported binary operator: Range

✅ ./src/unified-compiler/test/integration/function_call.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (64 bytes)
Program completed successfully
Return value: 30

✅ ./src/unified-compiler/test/integration/if_else.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (55 bytes)
Program completed successfully
Return value: 1

✅ ./src/unified-compiler/test/integration/local_variables.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (57 bytes)
Program completed successfully
Return value: 30

❌ ./src/unified-compiler/test/integration/nested_loops.uni
AST built with 2 top-level items
Error generating WASM: error adding function nested_sum: unsupported binary operator: Range

❌ ./src/unified-compiler/test/integration/new_keyword.uni
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0004d1eb8, 0xc0000f7200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x405
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0004d1eb8, 0xc0000f7100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0004d1eb8, 0xc0000f7000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0004d1eb8, 0xc0000f6b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0004d1eb8, 0xc0000f6a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0004d1eb8, 0xc0000f6980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/integration/range_test.uni
AST built with 1 top-level items
Error generating WASM: error adding function main: unsupported binary operator: Range

❌ ./src/unified-compiler/test/integration/simple_for_loop.uni
AST built with 2 top-level items
Error generating WASM: error adding function test_for_loop: unsupported binary operator: Range

❌ ./src/unified-compiler/test/integration/simple_for_test.uni
AST built with 1 top-level items
Error generating WASM: error adding function main: unsupported binary operator: Range

✅ ./src/unified-compiler/test/integration/simple_return.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (44 bytes)
Program completed successfully
Return value: 42

❌ ./src/unified-compiler/test/integration/string_array.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (201 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

❌ ./src/unified-compiler/test/integration/string_case.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (51 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/integration/string_compare.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (72 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/integration/string_comprehensive.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (82 bytes)
Runtime error: failed to compile module: invalid function[1] export["main"]: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/integration/string_concat.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (71 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/integration/string_demo_all.uni
AST built with 3 top-level items
Generated WASM module with 3 functions
Encoded WASM module (186 bytes)
Runtime error: failed to compile module: invalid function[0]: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/integration/string_function.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (69 bytes)
Runtime error: failed to compile module: invalid function[1] export["main"]: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/integration/string_length.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (75 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/integration/string_search.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (51 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/integration/string_substring.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (51 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: type mismatch: expected i64, but was i32

❌ ./src/unified-compiler/test/integration/string_trim.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (54 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: type mismatch: expected i64, but was i32

✅ ./src/unified-compiler/test/integration/while_factorial.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (98 bytes)
Program completed successfully
Return value: 120

❌ ./src/unified-compiler/test/nested_structs.uni
AST built with 3 top-level items
Generated WASM module with 1 functions
Encoded WASM module (153 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

❌ ./src/unified-compiler/test/new_keyword_basic.uni
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0002b1eb8, 0xc000196f80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x405
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0002b1eb8, 0xc000196e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0002b1eb8, 0xc000196d00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0002b1eb8, 0xc000196b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0002b1eb8, 0xc000196a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0002b1eb8, 0xc000196980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

✅ ./src/unified-compiler/test/no_semicolons_multi.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (74 bytes)
Program completed successfully
Return value: 30

✅ ./src/unified-compiler/test/no_semicolons_simple.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (70 bytes)
Program completed successfully
Return value: 8

❌ ./src/unified-compiler/test/point.uni
AST built with 2 top-level items
Generated WASM module with 1 functions
Encoded WASM module (95 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

✅ ./src/unified-compiler/test/precedence.uni
AST built with 4 top-level items
Generated WASM module with 4 functions
Encoded WASM module (115 bytes)
Program completed successfully
Return value: 31

❌ ./src/unified-compiler/test/rectangle.uni
AST built with 2 top-level items
Generated WASM module with 1 functions
Encoded WASM module (110 bytes)
Runtime error: failed to compile module: invalid function[0] export["main"]: invalid index for global.get

✅ ./src/unified-compiler/test/semicolons_all.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (68 bytes)
Program completed successfully
Return value: 3

✅ ./src/unified-compiler/test/semicolons_mixed.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (78 bytes)
Program completed successfully
Return value: 50

❌ ./src/unified-compiler/test/shadowing.uni
AST built with 2 top-level items
Error generating WASM: error adding function shadowing_example: unsupported expression type: *ast.Block

✅ ./src/unified-compiler/test/simple_precedence.uni
AST built with 1 top-level items
Generated WASM module with 1 functions
Encoded WASM module (50 bytes)
Program completed successfully
Return value: 14

❌ ./src/unified-compiler/test/stdlib/binarytree_int.uni
line 5:30 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:34 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc000039eb8, 0xc0000f5e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc000039eb8, 0xc0000f5200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc000039eb8, 0xc0000f5100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc000039eb8, 0xc0000f5000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc000039eb8, 0xc0000f4b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc000039eb8, 0xc0000f4a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc000039eb8, 0xc0000f4980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/binarytree_string.uni
line 5:33 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:37 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc000419eb8, 0xc00019de80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc000419eb8, 0xc00019d200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc000419eb8, 0xc00019d100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc000419eb8, 0xc00019d000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc000419eb8, 0xc00019cb80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc000419eb8, 0xc00019ca80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc000419eb8, 0xc00019c980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/hashmap_int.uni
line 5:25 extraneous input ',' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 2 top-level items
Error generating WASM: error adding function testHashMapInt: undefined variable: HashMap

❌ ./src/unified-compiler/test/stdlib/hashmap_string.uni
line 5:28 extraneous input ',' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 2 top-level items
Error generating WASM: error adding function testHashMapString: undefined variable: HashMap

❌ ./src/unified-compiler/test/stdlib/list_float.uni
line 5:26 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:30 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0003f7eb8, 0xc000199e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0003f7eb8, 0xc000199200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0003f7eb8, 0xc000199100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0003f7eb8, 0xc000199000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0003f7eb8, 0xc000198b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0003f7eb8, 0xc000198a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0003f7eb8, 0xc000198980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/list_int.uni
line 5:24 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:28 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc000155eb8, 0xc0000f7e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc000155eb8, 0xc0000f7200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc000155eb8, 0xc0000f7100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc000155eb8, 0xc0000f7000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc000155eb8, 0xc0000f6b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc000155eb8, 0xc0000f6a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc000155eb8, 0xc0000f6980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/list_string.uni
line 5:27 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:31 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0003b7eb8, 0xc000199e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0003b7eb8, 0xc000199200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0003b7eb8, 0xc000199100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0003b7eb8, 0xc000199000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0003b7eb8, 0xc000198b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0003b7eb8, 0xc000198a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0003b7eb8, 0xc000198980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/list_struct.uni
line 5:10 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 14:26 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 14:30 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc000439eb8, 0xc00051fd80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc000439eb8, 0xc00051ed80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc000439eb8, 0xc00051ed00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc000439eb8, 0xc00051ec00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc000439eb8, 0xc00051e680)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc000439eb8, 0xc00051e600)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc000439eb8, 0xc00019c980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/queue_float.uni
line 5:28 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:32 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0003e3eb8, 0xc0000f7e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0003e3eb8, 0xc0000f7200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0003e3eb8, 0xc0000f7100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0003e3eb8, 0xc0000f7000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0003e3eb8, 0xc0000f6b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0003e3eb8, 0xc0000f6a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0003e3eb8, 0xc0000f6980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/queue_int.uni
line 5:26 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:30 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0003d1eb8, 0xc0000fbe80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0003d1eb8, 0xc0000fb200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0003d1eb8, 0xc0000fb100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0003d1eb8, 0xc0000fb000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0003d1eb8, 0xc0000fab80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0003d1eb8, 0xc0000faa80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0003d1eb8, 0xc0000fa980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/queue_string.uni
line 5:29 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:33 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0003f1eb8, 0xc0000f7e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0003f1eb8, 0xc0000f7200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0003f1eb8, 0xc0000f7100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0003f1eb8, 0xc0000f7000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0003f1eb8, 0xc0000f6b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0003f1eb8, 0xc0000f6a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0003f1eb8, 0xc0000f6980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/queue_struct.uni
line 5:11 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 14:27 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 14:31 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc000409eb8, 0xc0000fbf00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc000409eb8, 0xc0000fa480)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc000409eb8, 0xc0000fa400)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc000409eb8, 0xc0000fa280)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc000409eb8, 0xc00034fe80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc000409eb8, 0xc00034fe00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc000409eb8, 0xc0000fa980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/set_int.uni
line 5:22 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:26 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc00032beb8, 0xc00019de80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc00032beb8, 0xc00019d200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc00032beb8, 0xc00019d100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc00032beb8, 0xc00019d000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc00032beb8, 0xc00019cb80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc00032beb8, 0xc00019ca80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc00032beb8, 0xc00019c980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/set_string.uni
line 5:25 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:29 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0003d3eb8, 0xc0000f5e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0003d3eb8, 0xc0000f5200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0003d3eb8, 0xc0000f5100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0003d3eb8, 0xc0000f5000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0003d3eb8, 0xc0000f4b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0003d3eb8, 0xc0000f4a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0003d3eb8, 0xc0000f4980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/stack_float.uni
line 5:28 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:32 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0001b7eb8, 0xc0000f5e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0001b7eb8, 0xc0000f5200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0001b7eb8, 0xc0000f5100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0001b7eb8, 0xc0000f5000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0001b7eb8, 0xc0000f4b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0001b7eb8, 0xc0000f4a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0001b7eb8, 0xc0000f4980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/stack_int.uni
line 5:26 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:30 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0004adeb8, 0xc0000f9e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0004adeb8, 0xc0000f9200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0004adeb8, 0xc0000f9100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0004adeb8, 0xc0000f9000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0004adeb8, 0xc0000f8b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0004adeb8, 0xc0000f8a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0004adeb8, 0xc0000f8980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/stack_string.uni
line 5:29 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 5:33 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc0003cdeb8, 0xc0000f7e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc0003cdeb8, 0xc0000f7200)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc0003cdeb8, 0xc0000f7100)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc0003cdeb8, 0xc0000f7000)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc0003cdeb8, 0xc0000f6b80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc0003cdeb8, 0xc0000f6a80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc0003cdeb8, 0xc0000f6980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0000341f0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/stdlib/stack_struct.uni
line 5:16 extraneous input ',' expecting {'}', 'fn', 'pub', Identifier}
line 14:29 extraneous input '.' expecting {'{', '(', '[', '+', '-', '|', '~', '!', '++', '--', SELF, 'if', 'switch', 'move', 'await', 'async', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 14:33 missing Identifier at '('
panic: interface conversion: interface is nil, not ast.Expression

goroutine 1 [running]:
unified-compiler/internal/ast.(*ASTBuilder).VisitExpr(0xc000419eb8, 0xc0005aec80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:592 +0x3105
unified-compiler/internal/ast.(*ASTBuilder).VisitLetStatement(0xc000419eb8, 0xc0005ae380)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:1034 +0x285
unified-compiler/internal/ast.(*ASTBuilder).VisitStatement(0xc000419eb8, 0xc0005ae300)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:980 +0xc5
unified-compiler/internal/ast.(*ASTBuilder).VisitBlock(0xc000419eb8, 0xc0005ae280)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:500 +0x1bb
unified-compiler/internal/ast.(*ASTBuilder).VisitFunctionDecl(0xc000419eb8, 0xc000373f00)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:137 +0x5c5
unified-compiler/internal/ast.(*ASTBuilder).VisitItem(0xc000419eb8, 0xc000373e80)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:91 +0x171
unified-compiler/internal/ast.(*ASTBuilder).VisitProgram(0xc000419eb8, 0xc000198980)
	/home/runner/work/Unified/Unified/src/unified-compiler/internal/ast/visitor.go:40 +0x1a5
main.compile(0xc0001241b0)
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:43 +0x3dc
main.main()
	/home/runner/work/Unified/Unified/src/unified-compiler/cmd/compiler/main.go:89 +0x8f

❌ ./src/unified-compiler/test/try_operator_basic_ok.uni
line 10:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 3 top-level items
Error generating WASM: error adding function get_ok_value: undefined variable: Result

❌ ./src/unified-compiler/test/try_operator_bool.uni
line 10:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 3 top-level items
Error generating WASM: error adding function check_condition: undefined variable: Result

❌ ./src/unified-compiler/test/try_operator_chained.uni
line 10:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 14:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 4 top-level items
Error generating WASM: error adding function get_first: undefined variable: Result

❌ ./src/unified-compiler/test/try_operator_in_conditional.uni
line 10:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 3 top-level items
Error generating WASM: error adding function get_number: undefined variable: Result

❌ ./src/unified-compiler/test/try_operator_in_expression.uni
line 10:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 3 top-level items
Error generating WASM: error adding function get_value: undefined variable: Result

❌ ./src/unified-compiler/test/try_operator_multiple_errors.uni
line 10:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 14:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 20:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 4 top-level items
Error generating WASM: error adding function first_error: undefined variable: Result

❌ ./src/unified-compiler/test/try_operator_nested_calls.uni
line 10:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 15:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 4 top-level items
Error generating WASM: error adding function inner_function: undefined variable: Result

❌ ./src/unified-compiler/test/try_operator_propagate_err.uni
line 10:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 15:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 3 top-level items
Error generating WASM: error adding function get_error: undefined variable: Result

❌ ./src/unified-compiler/test/try_operator_short_circuit.uni
line 10:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 14:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
line 21:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 4 top-level items
Error generating WASM: error adding function get_ok: undefined variable: Result

❌ ./src/unified-compiler/test/try_operator_string.uni
line 10:17 extraneous input '::' expecting {'{', '}', '(', '[', '+', '-', '|', '~', '!', '++', '--', 'let', 'var', SELF, 'if', 'loop', 'while', 'for', 'break', 'continue', 'return', 'switch', 'move', 'await', 'async', 'region', 'new', BoolLiteral, NullLiteral, Identifier, IntLiteral, FloatLiteral, StringLiteral, CharLiteral}
AST built with 3 top-level items
Error generating WASM: error adding function get_greeting: undefined variable: Result

✅ ./src/unified-compiler/test/type_inference.uni
AST built with 2 top-level items
Generated WASM module with 2 functions
Encoded WASM module (78 bytes)
Program completed successfully
Return value: 3


======================================
Summary
======================================
Total tests: 121
[0;32mWorking: 26[0m
[0;31mFailing: 95[0m
Success rate: 21.5%

Results saved to:
  - Full results: test_results.txt
  - Working tests: test_working.txt
  - Failing tests: test_failing.txt
